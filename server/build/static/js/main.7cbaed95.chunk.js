(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),s=n.n(c),o=n(8),i=n(10),l=n(6),u=n.n(l),j=n(9),d=n(99),b=n(97),m=a.a.createContext(null),O=n(1),h=function(e){var t=e.setModalIsOpen,n=e.setFormType,a=e.formType,c=e.logOutHandler,s=Object(r.useContext)(m),i=s.userdata,l=s.setUserData,h=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:l({name:null,token:null});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a,{children:Object(O.jsx)(d.a.Header,{children:Object(O.jsxs)(b.a,{className:"justify-content-end",children:[Object(O.jsx)(b.a.Item,{children:Object(O.jsx)(b.a.Link,{href:"#",onClick:!i.name&&function(){n(Object(o.a)(Object(o.a)({},a),{},{loginForm:!0})),t(!0)},children:i.name||"Login"})}),i.name&&Object(O.jsx)(b.a.Item,{children:Object(O.jsx)(b.a.Link,{href:"#",onClick:h,children:"log Out"})})]})})})})},p=n(20),x=n.n(p),f=n(13),g=n.n(f),v=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("http://localhost:9000")).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)},e.abrupt("return",g.a.post("".concat("http://localhost:9000","/read-artical"),t,{headers:n}).then((function(e){return e.data})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=n(14),k=n(98),S=n(96),F=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("http://localhost:9000","/login"),t).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={email:"",password:""},C={error:!1,message:""},I=function(e){var t=e.modelhandler,n=e.setFormType,a=e.setModalIsOpen,c=e.formType,s=Object(r.useState)(N),l=Object(i.a)(s,2),d=l[0],b=l[1],h=Object(r.useState)(C),p=Object(i.a)(h,2),x=p[0],f=p[1],g=Object(r.useContext)(m),v=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F(d).then((function(e){1===(null===e||void 0===e?void 0:e.status)?(f(C),sessionStorage.setItem("token",e.token),sessionStorage.setItem("name",e.userName),g.setUserData({name:e.userName,token:e.token}),t()):f({error:!0,message:null===e||void 0===e?void 0:e.message})})).catch((function(e){f({error:!0,message:"Somthing went wrong ,Please try again."})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){b(Object(o.a)(Object(o.a)({},d),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(O.jsxs)(O.Fragment,{children:[x.error&&Object(O.jsx)("div",{children:Object(O.jsx)("ul",{className:"list-group",children:Object(O.jsx)("li",{className:"list-group-item list-group-item-danger",children:x.message})})}),Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)("h2",{children:"Login"})}),Object(O.jsx)("div",{className:"m-auto w-50",children:Object(O.jsxs)(k.a,{onSubmit:v,children:[Object(O.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(k.a.Label,{children:"Email address"}),Object(O.jsx)(k.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:y}),Object(O.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)(k.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"Password"}),Object(O.jsx)(k.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:y})]}),Object(O.jsx)(S.a,{className:"border-0 bg-white text-body pb-3 px-0 ",onClick:function(){n(Object(o.a)(Object(o.a)({},c),{},{signUpForm:!0,loginForm:!1})),a(!0)},children:"Doesn't have an account, create one"}),Object(O.jsx)(S.a,{variant:"primary",type:"submit",className:"w-100",children:"Submit"})]})})]})},T=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("http://localhost:9000","/sign-up"),t).then((function(e){return e.data})).catch((function(e){throw console.log("......err",e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U={error:!1,message:""},E=function(e){var t=e.modelhandler,n=e.setFormType,a=e.setModalIsOpen,c=e.formType,s=Object(r.useState)(null),l=Object(i.a)(s,2),d=l[0],b=l[1],m=Object(r.useState)(U),h=Object(i.a)(m,2),p=h[0],x=h[1],f=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T(d).then((function(e){alert("Sign Up successfully , Now you can login."),t()})).catch((function(e){x(Object(o.a)(Object(o.a)({},p),{},{error:!0,message:"Somthing went wroung try agian."}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){b(Object(o.a)(Object(o.a)({},d),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(O.jsxs)(O.Fragment,{children:[p.error&&Object(O.jsx)("div",{children:Object(O.jsx)("ul",{className:"list-group",children:Object(O.jsx)("li",{className:"list-group-item list-group-item-danger",children:p.message})})}),Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)("h2",{children:"Sign Up"})}),Object(O.jsx)("div",{className:"m-auto w-50",children:Object(O.jsxs)(k.a,{onSubmit:f,children:[Object(O.jsxs)(k.a.Group,{controlId:"formBasicUserName",children:[Object(O.jsx)(k.a.Label,{children:"Name"}),Object(O.jsx)(k.a.Control,{type:"text",name:"name",placeholder:"Enter your name.",onChange:g})]}),Object(O.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(k.a.Label,{children:"Email address"}),Object(O.jsx)(k.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:g}),Object(O.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)(k.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(k.a.Label,{children:"Password"}),Object(O.jsx)(k.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:g})]}),Object(O.jsx)(S.a,{className:"border-0 bg-white text-body pb-3 px-0",onClick:function(){n(Object(o.a)(Object(o.a)({},c),{},{signUpForm:!1,loginForm:!0})),a(!0)},children:"Already have an account, Please login"}),Object(O.jsx)(S.a,{variant:"primary",type:"submit",className:"w-100",children:"Submit"})]})})]})},B=function(e){var t=e.artical,n=e.readArtical;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(d.a,{className:"mx-2 my-4",style:{width:"18rem"},children:[Object(O.jsx)(d.a.Img,{variant:"top",src:t.image}),Object(O.jsxs)(d.a.Body,{children:[Object(O.jsx)(d.a.Title,{children:t.heading}),Object(O.jsx)(d.a.Text,{children:t.description}),Object(O.jsx)(S.a,{variant:"primary",onClick:function(){return n(t.link)},children:"Read Artical"})]})]})})},P=function(e){var t=e.artical;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.a,{children:[Object(O.jsx)(d.a.Title,{children:t.heading}),Object(O.jsx)(d.a.Img,{variant:"top",src:t.image}),Object(O.jsx)(d.a.Body,{children:Object(O.jsx)(d.a.Text,{children:t.description})})]}),Object(O.jsx)("br",{})]})},L=(n(73),n(37)),A=n.n(L),D=function(){return Object(O.jsx)(A.a,{type:"Circles",color:"#00BFFF",height:100,width:100})},M={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{color:"blue"}};x.a.setAppElement("#root");var z=function(e){var t=e.modalIsOpen,n=e.setModalIsOpen,a=e.formType,c=e.setFormType,s=e.logOutHandler,l=Object(r.useState)([]),d=Object(i.a)(l,2),b=d[0],h=d[1],p=Object(r.useState)(null),f=Object(i.a)(p,2),g=f[0],w=f[1],k=Object(r.useState)(!1),S=Object(i.a)(k,2),F=S[0],N=S[1],C=Object(r.useState)(!0),T=Object(i.a)(C,2),U=T[0],L=T[1],A=Object(r.useContext)(m).setUserData;Object(r.useEffect)((function(){z()}),[]);var z=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:(t=e.sent)&&(h(null===t||void 0===t?void 0:t.data),L(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){n(!1)},H=function(){N(!1)},R=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t).then((function(e){console.log(e),w(e),N(!0)})).catch((function(e){alert("You are not Autharized Your,Please login first."),sessionStorage.clear(),A({name:null,token:null}),c({loginForm:!0,signUpForm:!1}),n(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sessionStorage.getItem("token"),a=sessionStorage.getItem("name"),r&&a){e.next=9;break}return c({loginForm:!0,signUpForm:!1}),n(!0),e.next=7,s();case 7:e.next=11;break;case 9:return e.next=11,R({link:t,token:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:U&&Object(O.jsx)(D,{})}),Object(O.jsx)("div",{className:"d-flex flex-wrap",children:!U&&b&&b.map((function(e){return Object(O.jsx)(B,{artical:e,readArtical:q},e.id)}))})]}),Object(O.jsxs)(x.a,{dialogClassName:"modal-50w",size:"sm",isOpen:t,onRequestClose:G,style:M,children:[Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)("button",{className:"border-0 bg-transparent font-weight-bold",onClick:G,style:{fontSize:"3rem"},children:"\xd7"})}),Object(O.jsxs)("div",{children:[a.loginForm&&Object(O.jsx)(I,Object(o.a)(Object(o.a)({},e),{},{modelhandler:G})),a.signUpForm&&Object(O.jsx)(E,Object(o.a)(Object(o.a)({},e),{},{modelhandler:G}))]})]}),Object(O.jsxs)(x.a,{isOpen:F,onRequestClose:H,style:M,children:[Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)("button",{className:"border-0 bg-transparent font-weight-bold",onClick:H,style:{fontSize:"3rem"},children:"\xd7"})}),Object(O.jsx)("div",{children:Object(O.jsx)(P,{artical:g})})]})]})},G={loginForm:!1,signUpForm:!1},H={name:null,token:null};var R=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(H),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(r.useState)(G),d=Object(i.a)(j,2),b=d[0],p=d[1];Object(r.useEffect)((function(){var e=sessionStorage.getItem("token"),t=sessionStorage.getItem("name");u(e?Object(o.a)(Object(o.a)({},l),{},{name:t,token:e}):H)}),[]);var x=function(){sessionStorage.clear(),u({name:null,token:null})};return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(m.Provider,{value:{userdata:l,setUserData:u},children:[Object(O.jsx)(h,{modalIsOpen:n,setModalIsOpen:a,setFormType:p,logOutHandler:x}),Object(O.jsx)(z,{modalIsOpen:n,setModalIsOpen:a,setFormType:p,formType:b,logOutHandler:x})]})})};n(92),n(93),n(94);s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.7cbaed95.chunk.js.map